{"ast":null,"code":"function addOperation(type, key, value, options) {\n  var operation = {\n    type: type,\n    key: key,\n    value: value,\n    options: options\n  };\n\n  if (options && options.prefix) {\n    operation.prefix = options.prefix;\n    delete options.prefix;\n  }\n\n  this._operations.push(operation);\n\n  return this;\n}\n\nfunction Batch(sdb) {\n  this._operations = [];\n  this._sdb = sdb;\n  this.put = addOperation.bind(this, 'put');\n  this.del = addOperation.bind(this, 'del');\n}\n\nvar B = Batch.prototype;\n\nB.clear = function () {\n  this._operations = [];\n};\n\nB.write = function (cb) {\n  this._sdb.batch(this._operations, cb);\n};\n\nmodule.exports = Batch;","map":null,"metadata":{},"sourceType":"script"}